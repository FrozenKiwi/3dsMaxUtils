Converting from Max Plugin Wizard to a Plugin

1: Create plugin via Plugin Wizard, add git repo

Close Visual Studio

2: Add 3dsMaxUtils as submodule

: While its possible to convert use the project properties within an exsting project file, the project property works best if it is a complete replacement for the generated projects.  For maximum benefit it's easiest to replace the existing project file with a clean one.

Rename the current vcxproj file to vcxproj.old

copy 3dsMaxUtils/ProjectProperties/EmptyProject.vcxproj into your current projects location

rename EmptyProject.vcxproj file to the original name of your project.

User file contains state info, is no longer relevant
Delete *.vcxproj.user files

The *.def file is no longer required, and can be deleted.

The solution file will also still contain references to the configurations in the original project.  We could modify the project, renaming configurations and setting things up appropriately, but this is time consuming and unnecessary. A solution file can be automatically regenerated from a project file, and if so it will automatically contain a matching list of configurations as the configurations defined in the project file.

Delete *.sln file

Restart VS, load new project

No files are present - this is still "EmptyProject"

Import all files from In solution view, right click on the project -> "Add Existing Files"

Change type to "Visual C++ Files", and select all files to import.

- or - 
Select all file marked as *.cpp, *.h, and *.rc.  If the project being converted is direct from the Plugin Wizard, there should be 7 files to import: 4 named after the project, DllEntry.cpp,resource.h, and 3dsmax_preinclude.h

The project comes with configurations for all supported versions of 3ds max, and will be updated quiclky once new builds of 3ds Max are released.

There is no further configuration required.  To build, simply select the configuration matching the release of Max you wish to build for, and build.  To load and debug your plugin, simply press "Debug" -> "Start Debugging".  All paths will be automatically resolved.

---- Troubleshooting ----

If you see any mssing
 you you need to do is build the configuration of the desired release of Max.  If any errors are shown relating to missing include files, ensure that the SDK for the selected configurations release of Max has been installed.

IF YOU SEE THE FOLLOWING ERROR MESSAGE

 fatal error RC1015: cannot open include file 'afxres.h'

 This is due to the file generated by the project wizard requiring a header from the MFC library, which is not included in the free versions of Visual Studio

 To resolve this, replace the 
   #include "afx.res"
with
  #include "windows.h"

and add an additional

  #define IDC_STATIC -1
